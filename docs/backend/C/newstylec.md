# 换个姿势学C语言

## 1. 基于应用的学习方法

- 学习的目的是为了应用，应用的目的是为了解决实际问题。
- 学习程序设计的目的是为了开发出可以实际应用的软件，而不是会做很多练习题。幼儿能在不识字、不懂语法的情况下快速掌握母语听说能力，就是因为他们的学习是基于应用目的的。
- 很多人陷入“我需要先读完很多书才能学以致用”的误区，这种学习方式有两个弊端：
  - 学习后面的忘了前面的；
  - 即使都学完了，也没有能力将零散的知识点连接起来加以运用。而应用时碰壁又会极大地打击积极性从而使自己无法坚持下去。

- 因此，“学以致用，学了立即用”是最有效而且能最鼓舞人心的学习方法。边干边学，边学边干才会锻炼实战能力。

### 1.1 基于应用的学习方法包括下列步骤

- 理解要解决的应用问题；
- 思考和设计解决问题的方案并找出自己目前不能解决的问题（知识盲区）；
- 针对不能解决的问题开展学习（读书或查资料）；
- 用代码实现应用目标；
- 分析、排除程序的故障；
- 思考和寻找更好的解决方案，并对代码进行优化和迭代。

《换个姿势学C语言》就是按照这种思路来组织案例和实践项目的。除了基础的语言知识外，你还会看到笔者是如何思考问题并设计解决方案的。笔者在书中实现了“外江牌价看板”程序。

### 1.2 明确程序的设计目标

- 理解要解决的问题是解决问题的第1步。在普通人看来外江牌价看板是一个很简单的程序，但作为它的设计者和实现者则需要了解更多相关的业务知识以及用户的需求，这项工作被称为【需求分析】，**需求分析是否成功决定了软件开发的成败。**
- **需求分析是一项需要理解业务需求并和用户反复沟通才能完成的工作**。很多程序员认为只要掌握最先进的编程技术就可以了，不愿意与用户沟通，回避需求分析的环节或者敷衍了事；或者总是在第1次与用户交流时就在思考用什么语言、框架或数据库来完成系统，盲目地相信自己能做出用户满意的软件。但这种情形下做出的软件系统往往不能满足用户的需求，再加上有些不负责任的销售人员给客户承诺了一个根本不可能实现的工期，导致程序设计人员在多方压力下很快进入设计和开发阶段，最终“成功”地做出了一个客户不接受的软件系统。导致在交付项目以后反复加班修改， 甚至项目失败。
- 另一个方面，需求分析不准确的责任也不全在软件工程师身上。因为很多时候**客户自己也不清楚想要什么，这听上去很荒谬但事实经常如此**，很多客户只有在看到产品后才能更精确地知道自己要什么，因此总是在开发基本完成时提出一些意见，这在软件开发领域有一个词叫做【需求变更】，所有人（除了客户）者很痛恨它却又无法避免。需求变量是一种非常正常的现象，所以在制订项目计划时要将需求变更考虑进去；同时还要采用一些手段尽可能深入地与客户反复确认他们的需求。

- 从开发者的角度进行需求变更不一定是坏事，因为很多客户是愿意为需求变更付钱并增加额外的工期。但如果事先没有对客户需求进行详细的调研和反复确认，也没有任何文档来说明客户需求，当需求变更时将无法证明客户需求和以前不一样，就只能为自己犯下的错误买单---在工期和经费不增加的情况下加班加点满足客户的新需求。

### 1.3 了解业务知识

- 外国货币在大多数国家是不可以在本国市场上流通的。如果人们手里有外币想在本国花掉，需要去银行把它兑换成本国货币，这个过程称为【结汇】。反过来，如果人们出国需求携带外币，就需要去银行办理【购汇】，用手中的本国货币兑换外币。
- 结汇和购汇业务一般是在银行进行的，所以在银行的大厅里一般都会有一个显示着各种外汇兑换比率（汇率）的显示屏。我们要实现的就是在计算机上运行的外汇牌价看板程序。
- 中国境内的银行结汇和购汇时采用的汇率是各家银行参考每天上午9点15分中国外汇交易中心公布的【在岸人民币汇率】，结合本行的具体情况确定的。
- 中国外汇交易中心确定【在岸人民币汇率】的方法是，所有做市商报价，然后去掉最大最小值，对剩余报价求均值得到当日人民币兑美元的汇率中间价。由于美元是国际货币，结合当天上午9时国际外汇市场美元兑换其他外币的价格，就可以套算出其他国家的货币和人民币的汇率。所以每个工作日上午9时15分左右，中国外汇交易中心就会公布当天人民币兑各种外币的汇率中间价，也就是【在岸人民币汇率】。